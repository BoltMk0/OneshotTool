#N canvas 528 49 1216 820 10;
#N canvas 630 72 987 725 masterctl 0;
#X obj 51 35 notein;
#X obj 51 56 pack f f;
#X obj 51 77 s globalmidi;
#X obj 281 104 bng 15 250 50 0 empty globalmidi empty 17 7 0 10 -262144
-261682 -1;
#X floatatom 245 103 5 0 0 0 - - -;
#X obj 321 -49 catch~ master_out_L;
#X obj 384 8 catch~ master_out_R;
#X obj 253 127 vu 15 120 masteroutvuR empty -1 -8 0 10 -66577 -1 1
0;
#X obj 206 127 vu 15 120 masteroutvuL empty -1 -8 0 10 -66577 -1 0
0;
#X obj 318 429 pvu~ 30 30;
#X obj 389 429 pvu~ 30 30;
#X obj 227 127 vsl 20 120 0 127 0 0 globalvolume globalvolumer empty
0 -9 0 10 -262144 -1 -1 5903 1;
#X obj 641 10 loadbang;
#X obj 370 175 *~;
#X obj 402 176 *~;
#X obj 420 54 r globalvolume;
#X obj 420 114 vline~;
#X obj 420 76 expr pow($f1/100 \, 2);
#X msg 420 95 \$1 50;
#X obj 608 499 dac~;
#N canvas 463 410 1052 631 saverloader 0;
#X obj 105 121 bng 15 250 50 0 empty empty Save 17 7 1 10 -262144 -1
-1;
#X obj 105 158 bng 15 250 50 0 empty empty SaveAs... 17 7 1 10 -262144
-1 -1;
#X text 119 102 Session;
#X obj 105 176 bng 15 250 50 0 empty empty Load... 17 7 1 10 -262144
-1 -1;
#X msg 311 222 \; global save;
#X obj 365 34 loadbang;
#X obj 392 97 s sessiondir;
#N canvas 979 505 889 450 loader 0;
#X obj 58 17 inlet;
#X obj 68 108 folder_list;
#X obj 140 57 r sessiondir;
#X obj 210 124 r loader;
#X obj 210 166 textfile;
#X msg 210 145 read \$1 \, rewind \, bang;
#X obj 227 187 t b a;
#X obj 252 304 s;
#X msg 131 88 symbol \$1/*.conf;
#X obj 68 203 list append;
#X obj 149 183 delay 1;
#X obj 68 223 t a;
#X obj 118 268 list;
#X obj 118 291 list split 1;
#X obj 118 312 s loader;
#X obj 101 16 r globalload;
#X obj 385 177 symbol;
#X msg 418 157 symbol \$1;
#X obj 254 229 symbol;
#X obj 385 199 print Loaded;
#X obj 34 63 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 68 132 t a b;
#X obj 68 80 t b b;
#X obj 254 208 route name filename;
#X obj 309 229 route bang;
#X msg 366 269 filename \$1;
#X obj 366 249 symbol;
#X connect 0 0 22 0;
#X connect 1 0 21 0;
#X connect 2 0 8 0;
#X connect 3 0 5 0;
#X connect 3 0 17 0;
#X connect 4 0 6 0;
#X connect 4 1 12 0;
#X connect 4 1 16 0;
#X connect 5 0 4 0;
#X connect 6 0 4 0;
#X connect 6 1 23 0;
#X connect 8 0 1 1;
#X connect 9 0 11 0;
#X connect 10 0 12 0;
#X connect 11 0 9 1;
#X connect 11 0 12 1;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 13 1 12 1;
#X connect 15 0 22 0;
#X connect 16 0 19 0;
#X connect 17 0 16 1;
#X connect 18 0 7 1;
#X connect 20 0 22 0;
#X connect 21 0 9 0;
#X connect 21 1 10 0;
#X connect 22 0 1 0;
#X connect 22 1 9 1;
#X connect 23 0 18 0;
#X connect 23 1 24 0;
#X connect 23 2 7 0;
#X connect 24 1 26 0;
#X connect 25 0 7 0;
#X connect 26 0 25 0;
#X restore 105 274 pd loader;
#X obj 311 159 tof/folderpanel;
#X obj 338 201 s sessiondir;
#X obj 311 180 t b a;
#X obj 105 211 tof/folderpanel;
#X obj 132 253 s sessiondir;
#X obj 105 232 t b a;
#X obj 365 56 t b b;
#X obj 365 118 s globalload;
#X msg 392 76 symbol configs;
#X obj 105 140 bng 15 250 50 0 empty empty Reload 17 7 1 10 -262144
-1 -1;
#X connect 0 0 4 0;
#X connect 1 0 8 0;
#X connect 3 0 11 0;
#X connect 5 0 14 0;
#X connect 8 0 10 0;
#X connect 10 0 4 0;
#X connect 10 1 9 0;
#X connect 11 0 13 0;
#X connect 13 0 7 0;
#X connect 13 1 12 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 16 0 6 0;
#X connect 17 0 7 0;
#X coords 0 -1 1 1 85 96 2 100 100;
#X restore 109 128 pd saverloader;
#N canvas 1005 631 529 300 printhelp 0;
#X obj 56 59 inlet;
#X obj 56 132 textfile;
#X obj 96 179 print HELP;
#X obj 69 157 t b a;
#X obj 56 88 t b b;
#X msg 123 152 =====================================================
;
#X msg 56 111 read README.txt \, rewind \, bang;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 1 1 5 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 5 0 2 0;
#X connect 6 0 1 0;
#X restore 269 810 pd printhelp;
#X obj 103 782 bng 15 250 50 0 empty empty Full_Help 17 7 1 10 -262144
-1 -1;
#X obj 303 58 hip~ 20;
#X obj 358 60 hip~ 20;
#X text 108 557 QUICK HELP;
#X text 103 574 -"bgm";
#X text 114 594 loops \, no FX sends;
#X text 145 757 FILES MUST BE WAV;
#X text 159 102 Midi activity;
#X obj 112 233 hsl 80 15 0 127 0 0 globalenvtransition globalenvtransitionr
EnvironmentFade 3 8 1 9 -262144 -1 -1 3944 1;
#N canvas 1251 553 450 300 environment_transition 0;
#X obj 29 35 r globalenvtransition;
#X obj 205 60 s globalenvtransitionr;
#X obj 205 18 loadbang;
#X msg 205 39 63.4;
#X obj 29 130 f;
#X obj 37 104 r reqglobalenvfadetime;
#X obj 29 150 s globalenvfadetime;
#X obj 29 56 expr 10000*pow(($f1/127) \, 2);
#X connect 0 0 7 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 7 0 4 0;
#X restore 468 344 pd environment_transition;
#X obj 681 143 catch~ fx_in_L;
#X obj 586 141 catch~ fx_in_R;
#X obj 681 163 s~ to_all_fx_L;
#X obj 587 163 s~ to_all_fx_R;
#X text 115 584 background music \, continuously;
#X text 106 705 -"env";
#X text 112 653 3 simultaneous voices.;
#X text 114 715 Accoustic environment. Only;
#X text 114 725 one is active at a time.;
#X obj 336 -30 catch~ chanstripoutL;
#X obj 349 -10 catch~ chanstripoutR;
#X obj 114 256 channel_strip 1;
#N canvas 898 324 721 538 recorder 0;
#X obj 230 122 vu 8 80 chan1prevu empty -1 -8 0 10 -66577 -1 0 0;
#X obj 242 122 vu 8 80 chan2prevu empty -1 -8 0 10 -66577 -1 0 0;
#X obj 190 122 vu 8 80 sfxvur empty -1 -8 0 10 -66577 -1 0 0;
#X obj 178 122 vu 8 80 sfxvul empty -1 -8 0 10 -66577 -1 0 0;
#X obj 164 122 vu 8 80 masteroutvuR empty -1 -8 0 10 -66577 -1 0 0
;
#X obj 152 122 vu 8 80 masteroutvuL empty -1 -8 0 10 -66577 -1 0 0
;
#X text 151 103 All;
#X obj 254 122 vu 8 80 chan3prevu empty -1 -8 0 10 -66577 -1 0 0;
#X obj 266 122 vu 8 80 chan4prevu empty -1 -8 0 10 -66577 -1 0 0;
#X text 233 103 Direct;
#X text 177 103 SFX;
#X obj 293 294 adc~ 1 2 3 4;
#X obj 443 71 date;
#X obj 474 71 time;
#X obj 447 96 makefilename %02d;
#X obj 451 115 makefilename %02d;
#X obj 474 135 makefilename %02d;
#X obj 481 155 makefilename %02d;
#X obj 488 175 makefilename %02d;
#X obj 391 204 pack f s s s s s;
#X obj 188 320 r~ masteroutL;
#X obj 240 341 r~ masteroutR;
#X obj 111 125 bng 30 250 50 0 recstart recstartr R 8 15 1 22 -262144
-1 -1;
#X obj -3 413 spigot;
#X obj 30 391 r recstate;
#X obj 188 400 r recstate;
#X obj 188 420 expr 1-$f1;
#X obj 143 381 r recstart;
#X obj -3 370 r recstart;
#X obj 111 164 bng 30 250 50 0 recstop recstopr Stop 5 15 1 10 -262144
-1 -1;
#X obj 445 25 r opennewfile;
#X obj 445 48 t b b;
#X msg 314 242 start;
#X obj 299 187 r recstate;
#X obj 299 209 sel 0 1;
#X msg 293 267 stop;
#X msg 391 226 rec_out_\$1\$2\$3_\$4\$5\$6.wav;
#X msg 391 276 open -bytes 3 \$1;
#X obj 454 304 print Recording to;
#X msg 143 465 \; opennewfile bang \; recstate 1;
#X obj 19 440 t b b;
#X msg 432 442 \; opennewfile bang;
#X obj 391 255 symbol;
#X obj 4 25 r recstate;
#X obj 2 55 t f f;
#X obj -12 82 sel 0;
#X obj 10 130 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg -12 103 0;
#X obj 10 149 sel 0 1;
#X obj 0 225 s recstartr;
#X obj 86 28 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 29 77 metro 300;
#X msg 0 205 color 0 -1;
#X msg 30 178 color 13 0;
#X obj -86 364 r recstop;
#X msg -86 384 \; recstate 0;
#X msg 46 461 \; recstate 0 \; recstart bang;
#X obj 143 442 spigot 1;
#X obj 216 122 vu 8 80 bgmvur empty -1 -8 0 10 -66577 -1 0 0;
#X obj 204 122 vu 8 80 bgmvul empty -1 -8 0 10 -66577 -1 0 0;
#X text 203 103 BGM;
#X text 101 98 RECORD;
#X obj 292 393 writesf~ 10;
#N canvas 1093 473 450 300 sfx 0;
#X obj 75 108 outlet~;
#X obj 141 115 outlet~;
#X obj 111 -45 catch~ sfx_out_L;
#X obj 123 -26 catch~ sfx_out_R;
#X obj 146 35 pvu~ 100 100;
#X obj 163 60 pvu~ 100 100;
#X obj 146 84 s sfxvul;
#X obj 204 86 s sfxvur;
#X connect 2 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X restore 333 338 pd sfx;
#N canvas 1387 698 450 300 bgm 0;
#X obj 48 176 outlet~;
#X obj 82 204 outlet~;
#X obj 41 29 catch~ bgm_out_L;
#X obj 57 51 catch~ bgm_out_R;
#X obj 8 96 pvu~ 100 100;
#X obj 8 117 s bgmvul;
#X obj 103 97 pvu~ 100 100;
#X obj 103 118 s bgmvur;
#X connect 2 0 0 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 6 0 7 0;
#X restore 380 339 pd bgm;
#X connect 11 0 62 6;
#X connect 11 1 62 7;
#X connect 11 2 62 8;
#X connect 11 3 62 9;
#X connect 12 0 19 0;
#X connect 12 1 14 0;
#X connect 12 2 15 0;
#X connect 13 0 16 0;
#X connect 13 1 17 0;
#X connect 13 2 18 0;
#X connect 14 0 19 1;
#X connect 15 0 19 2;
#X connect 16 0 19 3;
#X connect 17 0 19 4;
#X connect 18 0 19 5;
#X connect 19 0 36 0;
#X connect 20 0 62 0;
#X connect 21 0 62 1;
#X connect 23 0 40 0;
#X connect 24 0 23 1;
#X connect 25 0 26 0;
#X connect 26 0 57 1;
#X connect 27 0 57 0;
#X connect 28 0 23 0;
#X connect 30 0 31 0;
#X connect 31 0 12 0;
#X connect 31 1 13 0;
#X connect 32 0 62 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 34 1 32 0;
#X connect 35 0 62 0;
#X connect 36 0 38 0;
#X connect 36 0 42 0;
#X connect 37 0 62 0;
#X connect 40 1 56 0;
#X connect 42 0 37 0;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 44 1 51 0;
#X connect 45 0 47 0;
#X connect 46 0 48 0;
#X connect 47 0 46 0;
#X connect 48 0 52 0;
#X connect 48 1 53 0;
#X connect 50 0 44 0;
#X connect 51 0 46 0;
#X connect 52 0 49 0;
#X connect 53 0 49 0;
#X connect 54 0 55 0;
#X connect 57 0 39 0;
#X connect 63 0 62 2;
#X connect 63 1 62 3;
#X connect 64 0 62 4;
#X connect 64 1 62 5;
#X coords 0 -1 1 1 180 110 2 100 100;
#X restore 109 440 pd recorder;
#X obj 389 470 s masteroutvuR;
#X obj 318 450 s masteroutvuL;
#X obj 199 256 channel_strip 3;
#X obj 157 256 channel_strip 2;
#X obj 241 256 channel_strip 4;
#X obj 356 209 s~ masteroutL;
#X obj 446 209 s~ masteroutR;
#X obj 317 407 r~ masteroutL;
#X obj 407 407 r~ masteroutR;
#X obj 556 471 r~ masteroutL;
#X obj 646 471 r~ masteroutR;
#X msg 641 31 \; globalvolumer 63 \; pd dsp 1;
#X text 106 100 V1.2;
#X text 103 609 -"bgm2";
#X text 111 620 Same as bgm \, optional looping;
#X text 103 668 -"sfx2";
#X text 112 644 sound effect. Oneshot trigger \,;
#X text 105 636 -"sfx";
#X text 111 678 Sound effect. Behaves like;
#X text 111 689 bgm2 but with FX sends.;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 0 1 1 1;
#X connect 1 0 2 0;
#X connect 5 0 23 0;
#X connect 6 0 24 0;
#X connect 9 0 46 0;
#X connect 10 0 45 0;
#X connect 12 0 56 0;
#X connect 13 0 50 0;
#X connect 14 0 51 0;
#X connect 15 0 17 0;
#X connect 16 0 13 1;
#X connect 16 0 14 1;
#X connect 17 0 18 0;
#X connect 18 0 16 0;
#X connect 22 0 21 0;
#X connect 23 0 13 0;
#X connect 24 0 14 0;
#X connect 32 0 34 0;
#X connect 33 0 35 0;
#X connect 41 0 23 0;
#X connect 42 0 24 0;
#X connect 52 0 9 0;
#X connect 53 0 10 0;
#X connect 54 0 19 0;
#X connect 55 0 19 1;
#X coords 0 -1 1 1 200 700 2 100 100;
#X restore 21 18 pd masterctl;
